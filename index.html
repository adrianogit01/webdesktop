<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="icon-192.png">
  <meta name="theme-color" content="#1e1e1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Desktop Web"> 

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('DOMContentLoaded', function () {
        navigator.serviceWorker.register('service-worker.js')
          .then(function (registration) {
            console.log('Service Worker registrado com sucesso:', registration.scope);
          })
          .catch(function (error) {
            console.log('Falha ao registrar o Service Worker:', error);
          });
      });
    }
  </script>
<title>Web Desktop</title>

<meta name="theme-color" content="#1e1e1e">
<meta name="apple-mobile-web-app-capable" content="yes">

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:#1e1e1e;
  color:white;
  font-family:Arial,sans-serif;
  overflow:hidden;
}

body.fundo-imagem {
  background: url("images/trigo.jpg") no-repeat center center;
  background-size: cover;
  background-attachment: fixed;
}

/* ===== DESKTOP ===== */
.desktop{
  position:absolute;
  inset:0;
  bottom:50px;
  padding:12px;
  display:flex;
  gap:16px;
  flex-wrap:wrap;
}

.shortcut{
  width:80px;
  text-align:center;
  cursor:pointer;
  font-size:14px;
}

  .shortcut img {
      width: 48px;
      height: 48px;
    }

.shortcut span{display:block}

 .shortcut-taskbar {
      width: 60px;
      text-align: center;
      cursor: pointer;
      color: white;
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 10px;
    }

/* ===== WINDOWS ===== */
.window{
  position:absolute;
  width:420px;
  height:560px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(16px) saturate(180%);
  border:1px solid rgba(255,255,255,.2);
  border-radius:8px;
  display:none;
}

.titlebar{
  height:36px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 10px;
  background:rgba(255,255,255,.1);
  cursor:move;
}

.window-buttons button{
  background:none;
  border:none;
  color:white;
  font-size:16px;
  cursor:pointer;
}

iframe{
  width:100%;
  height:calc(100% - 36px);
  border:none;
}

.resizer{
  position:absolute;
  width:24px;
  height:24px;
  right:0;
  bottom:0;
  cursor:nwse-resize;
}

/* ===== TASKBAR ===== */
.taskbar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  height:50px;
  backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      background: rgba(120, 120, 120, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.2);
  display:flex;
  align-items:center;
  padding:0 12px;
  z-index:100;
}

.taskbar button{
  background:none;
  border:none;
  color:white;
  font-size:20px;
  cursor:pointer;
}

 #searchInput {
     width: 100%;
     padding: 6px 8px;
     margin-bottom: 8px;
     font-size: 14px;
     border: 1px solid #ccc;
     border-radius: 4px;
   }

/* ===== MENU ===== */

  .start-button {
  height: 35px;
  background-color: #706f6f;
  border: none;
  color: white;
  padding: 5px 10px;
  cursor: pointer;
  font-weight: bold;
  position: fixed;
  bottom: 10px;
  left: 10px; /* posiÃ§Ã£o inicial */
  z-index: 101; /* garantir que fique acima do menu */
}

    
    .button {
      height: 30px;
      background-color: #706f6f;
      border: none;
      color: white;
      padding: 5px 10px;
      cursor: pointer;
      margin-bottom: 10px;
      font-weight: bold;
    }
    
    button[title="Ocultar este atalho"]:hover {
  background: rgba(255, 255, 255, 0.3);
}

.menu{
  position:fixed;
  bottom:56px;
  left:12px;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(14px);
  max-height: 50%;
  padding:12px;
  border-radius:10px;
  display:none;
  overflow-y: auto;
}
.menu.show{display:block}
.menu a{color:white;text-decoration:none;display:block;margin-bottom:8px}

.menu a:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    
  #ad-google {
      position: fixed;
      top: 10px;
      right: 10px;
      width: 300px;
      max-width: 90%;
      z-index: 9999;
      background: white;
      border-radius: 6px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.4);
      overflow: hidden;
    }   
    
    
.zoom-control {
      margin-left: auto;
      color: white;
      display: flex;
      align-items: center;
      gap: 10px;
    }    

 .zoom-control input[type="range"] {
      width: 120px;
    }
    
    .sepia-filter {
    filter: sepia(1);
    }
    
    .grey-filter {
    filter: grayscale(1) invert(1);
   }
   
   
#iframe-relogio {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 400px;
  height: 400px;
  transform: translate(-50%, -50%);
  border: none;
  background: transparent;
  pointer-events: none;
  z-index: -1;
}

.calendario {
  right: 10%;
  padding: 1rem; 
  background: #222; 
  color: #fff; 
  border-radius: 8px;
}   

/* ===== MOBILE MODE ===== */
body.mobile-mode .shortcut span{display:none}
body.mobile-mode .shortcut{font-size:28px;width:64px}

/* ===== DOCK ===== */
.dock{
  position:fixed;
  bottom:90px;
  right:16px;
  z-index:9999;
  touch-action:none;
}

.dock-core{
  width:56px;
  height:56px;
  border-radius:50%;
  background:rgba(255,255,255,.25);
  backdrop-filter:blur(12px);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  cursor:pointer;
}

.dock-items{
  position:absolute;
  display:flex;
  gap:10px;
}

.dock-item{
  width:44px;
  height:44px;
  border-radius:50%;
  background:rgba(255,255,255,.3);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  cursor:pointer;
}

.dock.collapsed .dock-items{display:none}
.dock.radial .dock-items{bottom:70px;right:0;flex-direction:column}
.dock.linear .dock-items{right:70px;bottom:6px;flex-direction:row}
</style>
   <!-- Script do Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4818539305804157"
    crossorigin="anonymous"></script>
  <!-- Exemplo  -->
  <meta name="google-site-verification" content="abc123XYZ">
</head>
<body class="fullscreen" onload="onLoad()">
 <!--<div id="welcome"
    style="position:absolute;bottom:50px;left:10px;background: #f5f5f5;color: #333;padding:10px;border-radius:8px;z-index:-110">
    <h3>Bem-vindo ao Web Desktop</h3>
    <p>Este Ã© um ambiente simulado de desktop no navegador, feito em HTML, CSS e JS. Explore aplicativos como
      calculadora, player de mÃ­dia e navegador web!</p>
  </div>-->
<div id="desktop" class="desktop">
  <!-- <iframe src="offline_apps/relogio.html" id="iframe-relogio" pointer-events: none; z-index: 0;"></iframe>-->
  
  <div class="shortcut" onclick="openApp({url:'offline_apps/word/word.html', title:'Word-Like ğŸ“„'})">
    <span>ğŸ“„ Word-Like</span>
  </div>

  <div class="shortcut" data-id="player" onclick="openApp({url:'offline_apps/player.html', title:'Player ğŸï¸'})">
    <span>ğŸï¸ Player</span>
  </div>

  <div class="shortcut" data-id="rss" onclick="openApp({url:'offline_apps/rss.html', title:'RSS ğŸ“¡'})">
    <span>ğŸ“¡ RSS</span>
  </div>

  <div class="shortcut" data-id="matinal" onclick="openApp({url:'offline_apps/rotina.html', title:'Matinal ğŸŒ„'})">
    <span>ğŸŒ„ Rotina Matinal</span>
  </div>

  <div class="shortcut" data-id="tarefas" onclick="openApp({url:'offline_apps/tarefas.html', title:'Tarefas âœ”ï¸'})">
    <span>âœ”ï¸ Tarefas</span>
  </div><br>

  <div class="shortcut" data-id="calcdata" onclick="openApp({url:'offline_apps/calcdata.html', title:'Calc. de Datas ğŸ—“ï¸'})">
    <span>ğŸ—“ï¸ Cal. de Datas</span>
  </div>

  <div class="shortcut" data-id="porcentagem" onclick="openApp({url:'offline_apps/porcentagem.html', title:'Calc. de Porcentagem ğŸ”£'})">
    <span>ğŸ”£ Cal. de Porcentagem</span>
  </div>
</div>

<!-- Barra de tarefas -->
<div class="taskbar">
   <button onclick="toggleMenu()">   â˜°   </button>

  <div class="shortcut-taskbar" onclick="openApp({url:'offline_apps/filemanager.html', title:'Files ğŸ—‚ï¸'})">
    <span>ğŸ—‚ï¸ Files</span>
  </div>

  <div class="zoom-control">
    <label for="zoomSlider">Zoom:</label>
    <input id="zoomSlider" type="range" min="50" max="150" value="100">
  </div>
</div>


<div id="startMenu" class="menu">
  <input type="text" id="searchInput" placeholder="Pesquisar apps...">

  <strong>ğŸŒ Web Apps (PWAs and Others):</strong>

  <a href="#" data-id="stedit" onclick="openApp({url:'https://stedit.app', title:'Smart Text Editor ğŸ—’ï¸'})">ğŸ—’ï¸ Smart Text Editor</a>
  <a href="#" data-id="ether" onclick="openApp({url:'https://ethercalc.net/jpr8lzsc7boj', title:'EtherCalc ğŸ“Š'})">ğŸ“Š EtherCalc</a>
  <a href="#" data-id="crop" onclick="openApp({url:'https://imageresizer.com/crop-image', title:'Recortar Imagem ğŸ–¼ï¸'})">ğŸ–¼ï¸ Recortar Imagem</a>
  <a href="#" data-id="paintjs" onclick="openApp({url:'https://paint.js.org', title:'Paint js ğŸ¨'})">ğŸ¨ Paint js</a>
  <a href="#" data-id="photopea" onclick="openApp({url:'https://www.photopea.com/', title:'Photopea ğŸ¨'})">ğŸ¨ Photopea</a>
  <a href="#" data-id="svgedit" onclick="openApp({url:'https://editor.method.ac/', title:'SVG Editor ğŸ“'})">ğŸ“ SVG Editor</a>
  <a href="#" data-id="codedit" onclick="openApp({url:'https://onecompiler.com/html', title:'Code Editor ğŸ’»'})">ğŸ’» Code Editor</a>
  <a href="#" onclick="openApp({url:'https://www.onlineocr.net/pt/', title:'Online OCR ğŸ–¼ï¸â¡ï¸ğŸ“ƒ'})">ğŸ–¼ï¸â¡ï¸ğŸ“ƒ Online OCR</a>
  <a href="#" onclick="openApp({url:'https://screenmirroring.app/sender', title:'Enviar Tela ğŸ–µ'})">ğŸ–µ Enviar Tela</a>
  <a href="#" onclick="openApp({url:'https://screenmirroring.app/receiver', title:'Receber Tela ğŸ–µ'})">ğŸ–µ Receber Tela</a>
  <a href="#" onclick="openApp({url:'https://pluto.tv/br/live-tv', title:'Pluto TV ğŸ“º'})">ğŸ“º Pluto TV</a>

  <strong>ğŸ’½ Local File System HTML with JS Apps:</strong>

  <a href="#" onclick="openApp({url:'offline_apps/browser.html', title:'Browser ğŸŒ'})">ğŸŒ Browser</a>
  <a href="#" onclick="openApp({url:'offline_apps/openmaps.html', title:'Open Maps ğŸ—ºï¸'})">ğŸ—ºï¸ Open Maps</a>
  <a href="#" onclick="openApp({url:'offline_apps/googlemaps.html', title:'Google Maps ğŸ§­'})">ğŸ§­ Google Maps</a>
  <a href="#" onclick="openApp({url:'offline_apps/iaoff/webllm-chat.html', title:'IA ğŸ¤–'})">ğŸ¤– IA</a>
  <a href="#" onclick="openApp({url:'offline_apps/clima.html', title:'Clima ğŸŒ¦ï¸'})">ğŸŒ¦ï¸ Clima</a>
  <a href="#" onclick="openApp({url:'offline_apps/motof3.html', title:'MotoFone F3 ğŸ“±'})">ğŸ“± MotoFone F3</a>
  <a href="#" onclick="openApp({url:'offline_apps/camera.html', title:'Camera ğŸ“¸'})">ğŸ“¸ Camera</a>
  <a href="#" onclick="openApp({url:'offline_apps/excel.html', title:'Excel-Like ğŸ“Š'})">ğŸ“Š Excel-Like</a>
  <a href="#" onclick="openApp({url:'offline_apps/slides/slides.html', title:'Slides ğŸ“½ï¸'})">ğŸ“½ï¸ Slides</a>
  <a href="#" onclick="openApp({url:'offline_apps/leitorpdf/leitorpdf.html', title:'Leitor de PDF ğŸ“„'})">ğŸ“„ Leitor de PDF</a>
  <a href="#" onclick="openApp({url:'offline_apps/bloco-notas-offline-editor.html', title:'Bloco de Notas ğŸ“„'})">ğŸ“„ Bloco de Notas</a>
  <a href="#" onclick="openApp({url:'offline_apps/editorsemantico.html', title:'Editor SemÃ¢ntico ğŸ“„'})">ğŸ“„ Editor SemÃ¢ntico</a>
  <a href="#" onclick="openApp({url:'offline_apps/recortaimagem.html', title:'Recortador Offline de Imagem ğŸ–¼ï¸'})">ğŸ–¼ï¸ Recortador Offline</a>
  <a href="#" onclick="openApp({url:'offline_apps/whiteboard/index.html', title:'Paint ğŸ–Œï¸'})">ğŸ–Œï¸ Paint Offline</a>
  <a href="#" onclick="openApp({url:'offline_apps/diario/diario.html', title:'DiÃ¡rio ğŸ““'})">ğŸ““ DiÃ¡rio</a>
  <a href="#" onclick="openApp({url:'offline_apps/calculadora.html', title:'Calculadora ğŸ–©'})">ğŸ–© Calculadora</a>
  <a href="#" onclick="openApp({url:'offline_apps/youtube-wrapper.html', title:'Youtube ğŸ“º'})">ğŸ“º Youtube</a>
  <a href="#" onclick="openApp({url:'offline_apps/iptv.html', title:'IPTV ğŸ“º'})">ğŸ“º IPTV</a>
  <a href="#" onclick="openApp({url:'offline_apps/terminal.html', title:'Terminal ğŸ‘¨ğŸ½â€ğŸ’»'})">ğŸ‘¨ğŸ½â€ğŸ’» Terminal</a>
  <a href="#" onclick="openApp({url:'offline_apps/base64.html', title:'Base64 ğŸ§‘ğŸ½â€ğŸ’»'})">ğŸ§‘ğŸ½â€ğŸ’» Base64</a>
  <a href="#" onclick="openApp({url:'offline_apps/gravador.html', title:'Gravador ğŸ¤'})">ğŸ¤ Gravador</a>

  <hr>
  <strong>ğŸ“± Apps Nativos:</strong>

  <a href="#" onclick="openApp({url:'brave://', title:'ğŸ¦ Brave'})">ğŸ¦ Brave</a>
  <a href="#" onclick="openApp({url:'spotify://', title:'ğŸµ Spotify'})">ğŸµ Spotify</a>
  <a href="#" onclick="openApp({url:'youtube://', title:'ğŸ“º YouTube'})">ğŸ“º YouTube</a>
  <a href="#" onclick="openApp({url:'whatsapp://send?text=OlÃ¡', title:'ğŸ“² WhatsApp'})">ğŸ“² WhatsApp</a>

  <hr>
  
 <button class="button" onclick="toggleTouchpad()">ğŸ–±ï¸ Ativar/Desativar Touchpad</button>
    <script src="offline_apps/touchpad.js"></script><br>
   <button class="button" onclick="alternarFundo()">ğŸŒ„ Alternar Fundo</button>
    <button class="button" onclick="toggleSepia()">ğŸŸ¤ Modo SÃ©pia</button>
    <script src="offline_apps/sepia-toggle.js"></script>
    <button class="button" onclick="toggleGrey()">âš« Modo P&B Negativo</button>
    <script src="offline_apps/grey-toggle.js"></script>
     <div>
    <button class="button" onclick="toggleHUD()">ğŸ•¶ï¸ Alternar Modo HUD/HologrÃ¡fico</button>
    <script src="offline_apps/hud-toggle.js"></script>
    </div>
    <button onclick="alternarMenuCentro()" class="button">Alternar Menu: Centro/Esquerda</button>
  
  <strong>ğŸ“¢ PÃºblico:</strong>
  <a href="#" onclick="openApp({url:'public/privacidade.html', title:'Privacidade'})">ğŸ” Privacidade</a>
  <a href="#" onclick="openApp({url:'public/sobre.html', title:'Sobre'})">ğŸ“– Sobre</a>
</div>

<div id="mobileDock" class="dock collapsed">
  <div class="dock-core">â—‰</div>
  <div class="dock-items"></div>
</div>

<script>
/* ===== ACTIVITY ===== */
const ActivityManager={
  open({url,title}){
    const win=window.open(url,'_blank','noopener,noreferrer');
    if(!win) alert('Pop-up bloqueado pelo navegador');
  }
};

function shouldUseActivity(url){
  return /^https?:\/\//.test(url) && !url.startsWith(location.origin);
}

function openApp({url,title,mode}){
  if(mode==='activity' || shouldUseActivity(url)){
    ActivityManager.open({url,title});
  }else{
    WindowKernel.create({url,title});
  }
}
</script>

<script>
/* ===== WINDOW KERNEL ===== */
const WindowKernel=(()=>{
  let z=10,id=0;
  const windows=new Map();
  const gid=()=>`win_${++id}`;

  function focus(w){w.el.style.zIndex=++z}

  function create({url,title}){
    const el=document.createElement('div');
    const wid=gid();
    el.className='window';
    el.dataset.id=wid;
    el.style.top='10%';
    el.style.left='10%';
    el.style.zIndex=++z;
    el.innerHTML=`
      <div class="titlebar">
        <span class="window-title">${title}</span>
        <div class="window-buttons">
          <button onclick="minimizeWindow(this)">â–</button>
          <button onclick="maximizeWindow(this)">ğŸ”³</button>
          <button onclick="closeWindow(this)">âœ–ï¸</button>
        </div>
      </div>
      <iframe src="${url}"></iframe>
      <div class="resizer"></div>`;
    document.body.appendChild(el);

    const w={id:wid,el,state:'normal'};
    windows.set(wid,w);
    attachWindowBehavior(w);

    el.style.display='block';
    MobileMode.onOpen(w);
    Dock.render();
    return w;
  }

  function close(id){
    const w=windows.get(id);
    if(!w)return;
    w.el.remove();
    windows.delete(id);
    Dock.render();
  }

  function minimize(id){
    const w=windows.get(id);
    if(w) w.el.style.display='none';
  }

  function maximize(id){
    const w=windows.get(id);
    if(!w)return;
    if(w.state!=='max'){
      w.prev=w.el.getBoundingClientRect();
      Object.assign(w.el.style,{top:0,left:0,width:'100vw',height:'100vh'});
      w.state='max';
    }else{
      Object.assign(w.el.style,{
        top:w.prev.top+'px',
        left:w.prev.left+'px',
        width:w.prev.width+'px',
        height:w.prev.height+'px'
      });
      w.state='normal';
    }
  }

  return{create,close,minimize,maximize,focus,list:()=>[...windows.values()]};
})();
</script>

<script>
/* ===== SNAP ===== */
const SnapManager={
  t:40,
  detect(x,y){
    if(y<this.t)return'top';
    if(x<this.t)return'left';
    if(x>innerWidth-this.t)return'right';
    return null;
  },
  apply(w,z){
    if(z==='left')Object.assign(w.el.style,{top:0,left:0,width:'50vw',height:'100vh'});
    if(z==='right')Object.assign(w.el.style,{top:0,left:'50vw',width:'50vw',height:'100vh'});
    if(z==='top')Object.assign(w.el.style,{top:0,left:0,width:'100vw',height:'100vh'});
  }
};
</script>

<script>
/* ===== MOBILE MODE ===== */
const MobileMode={
  enabled:false,
  check(){
    this.enabled=innerWidth<768;
    document.body.classList.toggle('mobile-mode',this.enabled);
  },
  onOpen(w){
    if(!this.enabled)return;
    WindowKernel.list().forEach(o=>o!==w&&(o.el.style.display='none'));
    Object.assign(w.el.style,{display:'block',top:0,left:0,width:'100vw',height:'100vh'});
  }
};
addEventListener('resize',()=>MobileMode.check());
document.addEventListener('DOMContentLoaded',()=>MobileMode.check());
</script>

<script>
/* ===== DOCK ===== */
const Dock={
  el:document.getElementById('mobileDock'),
  items:document.querySelector('.dock-items'),

  init(){
    this.el.querySelector('.dock-core').onclick=()=>{
      this.el.classList.toggle('collapsed');
      this.render();
    };
    this.updateMode();
    window.addEventListener('resize',()=>this.updateMode());
  },

  updateMode(){
    if(!MobileMode.enabled){this.el.style.display='none';return;}
    this.el.style.display='block';
    this.el.classList.toggle('radial',innerWidth<480);
    this.el.classList.toggle('linear',innerWidth>=480);
  },

  render(){
    this.items.innerHTML='';
    WindowKernel.list().forEach(w=>{
      const b=document.createElement('div');
      b.className='dock-item';
      b.textContent=w.el.querySelector('.window-title').textContent[0];
      b.onclick=()=>{
        w.el.style.display='block';
        WindowKernel.focus(w);
        MobileMode.onOpen(w);
        this.el.classList.add('collapsed');
      };
      this.items.appendChild(b);
    });
    this.addAction('ğŸ ',()=>location.reload());
    this.addAction('âœ–ï¸',()=>{
      const w=WindowKernel.list().at(-1);
      if(w) WindowKernel.close(w.id);
    });
  },

  addAction(icon,fn){
    const b=document.createElement('div');
    b.className='dock-item';
    b.textContent=icon;
    b.onclick=fn;
    this.items.appendChild(b);
  }
};
document.addEventListener('DOMContentLoaded',()=>Dock.init());
</script>

<script>
/* ===== WINDOW BEHAVIOR ===== */
function attachWindowBehavior(w){
  w.el.onmousedown=()=>WindowKernel.focus(w);

  const bar=w.el.querySelector('.titlebar');
  bar.onmousedown=e=>{
    let sx=e.clientX,sy=e.clientY;
    let ot=w.el.offsetTop,ol=w.el.offsetLeft;
    document.onmousemove=ev=>{
      w.el.style.top=ot+(ev.clientY-sy)+'px';
      w.el.style.left=ol+(ev.clientX-sx)+'px';
    };
    document.onmouseup=()=>{
      const r=w.el.getBoundingClientRect();
      const z=SnapManager.detect(r.left+10,r.top+10);
      if(z)SnapManager.apply(w,z);
      document.onmousemove=null;
    };
  };

  const rz=w.el.querySelector('.resizer');
  rz.onmousedown=e=>{
    e.stopPropagation();
    let sx=e.clientX,sy=e.clientY;
    let ow=w.el.offsetWidth,oh=w.el.offsetHeight;
    document.onmousemove=ev=>{
      w.el.style.width=ow+(ev.clientX-sx)+'px';
      w.el.style.height=oh+(ev.clientY-sy)+'px';
    };
    document.onmouseup=()=>document.onmousemove=null;
  };
}

/* ===== GLOBAL ===== */
function closeWindow(b){WindowKernel.close(b.closest('.window').dataset.id)}
function minimizeWindow(b){WindowKernel.minimize(b.closest('.window').dataset.id)}
function maximizeWindow(b){WindowKernel.maximize(b.closest('.window').dataset.id)}
function toggleMenu(){startMenu.classList.toggle('show')}
</script>

  <script>
  
      function onLoad(){
    openWindow("public/sobre.html", "Sobre");
    }
      
    function toggleMenu() {
      let menu = document.getElementById('startMenu');
      menu.classList.toggle('show');
    }



function adicionarBotaoOcultar() {
  document.querySelectorAll('[data-id]').forEach(el => {
    if (!el.classList.contains('tem-botao-ocultar')) {
      const btn = document.createElement('button');
      btn.innerText = ' âœ–ï¸';
      btn.title = 'Ocultar este atalho';
      btn.style.marginLeft = '5px';
      btn.style.fontSize = '12px';
      btn.style.background = 'rgba(255,255,255,0.1)';
      btn.style.color = 'white';
      btn.style.border = 'none';
      btn.style.cursor = 'pointer';

      btn.onclick = e => {
        e.stopPropagation();
        const id = el.getAttribute('data-id');
        if (id) {
          atalhosOcultos.add(id);
          salvarAtalhos();
          el.style.display = 'none';
        }
      };

      el.appendChild(btn);
      el.classList.add('tem-botao-ocultar');
    }
  });
}


    // Controle de zoom via slider
    const zoomSlider = document.getElementById('zoomSlider');
    zoomSlider.addEventListener('input', () => {
      const zoom = zoomSlider.value;
      setGlobalZoom(zoom);
    });

    
   function setGlobalZoom(percent) {
      localStorage.setItem('desktopZoom', percent);
      document.body.style.zoom = percent + '%';
    }


    
    
const desktop = document.getElementById('desktop');
const startMenu = document.getElementById('startMenu');
const addShortcutForm = document.getElementById('addShortcutForm');

let dadosDesktop = JSON.parse(localStorage.getItem('desktopData')) || {
  atalhosExtras: [],
  ocultos: []
};

let atalhosExtras = dadosDesktop.atalhosExtras;
let atalhosOcultos = new Set(dadosDesktop.ocultos); // armazenarÃ¡ atalhos do usuÃ¡rio

// FunÃ§Ã£o para criar elemento atalho (desktop e menu)
function criarAtalho({name, url}) {
  // Evita duplicaÃ§Ã£o no desktop
  if ([...document.querySelectorAll('.shortcut')].some(el => el.textContent.includes(name))) return;

  // Atalho no desktop
  const atalhoDesktop = document.createElement('div');
  atalhoDesktop.className = 'shortcut';
  atalhoDesktop.title = name;
  atalhoDesktop.onclick = () => openWindow(url, name);
  atalhoDesktop.innerHTML = `<span>ğŸ”— ${name}</span>`;
  desktop.appendChild(atalhoDesktop);

  // Atalho no menu iniciar
  const linkMenu = document.createElement('a');
  linkMenu.href = "#";
  linkMenu.textContent = `ğŸ”— ${name}`;
  linkMenu.onclick = e => {
    e.preventDefault();
    openWindow(url, name);
    toggleMenu();
  };
  startMenu.insertBefore(linkMenu, addShortcutForm);
}


// Salvar atalhos no localStorage
function salvarAtalhos() {
  localStorage.setItem('desktopData', JSON.stringify({
    atalhosExtras,
    ocultos: [...atalhosOcultos]
  }));
}


// Carregar atalhos do localStorage
function carregarAtalhos() {
  const dados = localStorage.getItem('desktopData');
  if (dados) {
    const obj = JSON.parse(dados);
    atalhosExtras = obj.atalhosExtras || [];
    atalhosOcultos = new Set(obj.ocultos || []);
    atalhosExtras.forEach(criarAtalho);
    aplicarOcultos();
    adicionarBotaoOcultar();
  }
}


function aplicarOcultos() {
  atalhosOcultos.forEach(id => {
    document.querySelectorAll(`[data-id="${id}"]`).forEach(el => el.style.display = 'none');
  });
}

// Lidar com submissÃ£o do formulÃ¡rio
addShortcutForm.addEventListener('submit', e => {
  e.preventDefault();
  const name = document.getElementById('shortcutName').value.trim();
  const url = document.getElementById('shortcutURL').value.trim();

  if (!name || !url) return alert('Preencha nome e URL.');

  // Verifica se URL Ã© vÃ¡lida (pode ser melhorado)
  try {
    new URL(url);
  } catch {
    return alert('URL invÃ¡lida.');
  }

  const novoAtalho = { name, url };
  
  if (atalhosExtras.some(a => a.name === name && a.url === url)) {
  return alert('Este atalho jÃ¡ foi adicionado.');
  }
  
  atalhosExtras.push(novoAtalho);
  salvarAtalhos();
  criarAtalho(novoAtalho);

  // limpa formulÃ¡rio
  addShortcutForm.reset();
});
  

window.addEventListener('DOMContentLoaded', () => {
  carregarAtalhos();

  const savedZoom = localStorage.getItem('desktopZoom') || 100;
  document.getElementById('zoomSlider').value = savedZoom;
  setGlobalZoom(savedZoom);
});


const exportBtn = document.getElementById('exportBtn');
const importInput = document.getElementById('importInput');

// Exportar atalhos para JSON e baixar arquivo
exportBtn.addEventListener('click', () => {
  const dataStr = JSON.stringify({
    atalhosExtras,
    ocultos: [...atalhosOcultos]
  }, null, 2);
  const blob = new Blob([dataStr], { type: 'application/json' });
  const url = URL.createObjectURL(blob);

  const a = document.createElement('a');
  a.href = url;
  a.download = 'atalhos.json';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

// Importar atalhos a partir do arquivo JSON
importInput.addEventListener('change', e => {
  const file = e.target.files[0];
  if (!file) return;

  const reader = new FileReader();
reader.onload = e => {
  try {
    const dados = JSON.parse(e.target.result);
    if (!dados || typeof dados !== 'object') throw new Error('JSON invÃ¡lido.');

    atalhosExtras = Array.isArray(dados.atalhosExtras) ? dados.atalhosExtras : [];
    atalhosOcultos = new Set(Array.isArray(dados.ocultos) ? dados.ocultos : []);

    salvarAtalhos();

    // Limpar atalhos extras da UI
    document.querySelectorAll('.shortcut').forEach(el => {
      if (el.textContent.startsWith('ğŸ”—')) el.remove();
    });
    document.querySelectorAll('#startMenu a').forEach(el => {
      if (el.textContent.startsWith('ğŸ”—')) el.remove();
    });

    // Renderizar novamente
    atalhosExtras.forEach(criarAtalho);
    aplicarOcultos();
    adicionarBotaoOcultar();

    alert('ConfiguraÃ§Ãµes restauradas com sucesso!');
  } catch (err) {
    alert('Erro ao importar: ' + err.message);
  }
};
  reader.readAsText(file);
});

document.getElementById('mostrarTodosBtn').addEventListener('click', () => {
  atalhosOcultos.clear();
  salvarAtalhos();
  document.querySelectorAll('[data-id]').forEach(el => {
    el.style.display = '';
  });
});




  
  </script>
  
  <script>
  // Exibe a data atual em texto
  const hoje = new Date();
  const opcoes = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  document.getElementById('data-atual').innerText = hoje.toLocaleDateString('pt-BR', opcoes);
</script>

<script>
  function alternarFundo() {
    document.body.classList.toggle("fundo-imagem");
  }
</script>

<script>
  let menuCentralizado = false;

  function alternarMenuCentro() {
    const menu = document.querySelector('.menu');
    const startButton = document.querySelector('.start-button');

    if (!menuCentralizado) {
      menu.style.left = '50%';
      menu.style.transform = 'translateX(-50%)';
      startButton.style.left = '50%';
      startButton.style.transform = 'translateX(-50%)';
      startButton.style.position = 'fixed';
      menuCentralizado = true;
    } else {
      menu.style.left = '10px';
      menu.style.transform = 'none';
      startButton.style.left = '10px';
      startButton.style.transform = 'none';
      startButton.style.position = 'fixed';
      menuCentralizado = false;
    }
  }
</script>


</body>
</html>

